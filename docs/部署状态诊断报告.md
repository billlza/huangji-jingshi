# é»„å†ç½‘ç«™éƒ¨ç½²çŠ¶æ€è¯Šæ–­æŠ¥å‘Š

## ğŸ¯ é—®é¢˜è¯Šæ–­

### ç”¨æˆ·æŠ¥å‘Šçš„é—®é¢˜
- **åŸå§‹é—®é¢˜**: https://huangji-jingshi-web.vercel.app å‡ºç° 404 DEPLOYMENT_NOT_FOUND
- **æ–°URL**: https://huangji-jingshi-3ewpy201u-li-ziang-s-projects.vercel.app éœ€è¦èº«ä»½éªŒè¯
- **æ ¸å¿ƒé—®é¢˜**: APIæ— æ³•è¿æ¥

## âœ… å·²å®Œæˆçš„ä¿®å¤

### 1. APIç«¯ç‚¹è·¯å¾„ä¿®å¤
**é—®é¢˜**: å‰ç«¯è°ƒç”¨APIæ—¶ç¼ºå°‘ `functions/v1` è·¯å¾„

**ä¿®å¤çš„æ–‡ä»¶**:
- âœ… `/frontend/src/components/Dashboard.tsx` - timeline API
- âœ… `/frontend/src/components/FortuneCard.tsx` - history API  
- âœ… `/frontend/src/components/SkyCard.tsx` - sky API
- âœ… `/frontend/src/components/Timeline.tsx` - timeline, calculate, history APIs
- âœ… `/frontend/src/pages/Tools.tsx` - calculate API
- âœ… `/frontend/src/utils/timezone.ts` - calculate API
- âœ… `/frontend/src/StarMap.tsx` - sky API

**ä¿®å¤å†…å®¹**:
```javascript
// ä¿®å¤å‰ï¼ˆé”™è¯¯ï¼‰
fetch(`${API_BASE}/timeline?...`)

// ä¿®å¤åï¼ˆæ­£ç¡®ï¼‰
fetch(`${API_BASE}/functions/v1/timeline?...`)
```

### 2. Gitæ¨é€çŠ¶æ€
- âœ… æ‰€æœ‰ä¿®å¤å·²æäº¤åˆ°GitHub
- âœ… Vercelåº”è¯¥è‡ªåŠ¨é‡æ–°éƒ¨ç½²

## ğŸ” å½“å‰çŠ¶æ€åˆ†æ

### ç½‘ç«™è®¿é—®çŠ¶æ€
- **URL**: https://huangji-jingshi-3ewpy201u-li-ziang-s-projects.vercel.app
- **çŠ¶æ€**: éœ€è¦Vercelèº«ä»½éªŒè¯
- **åŸå› **: é¡¹ç›®è®¾ç½®ä¸ºç§æœ‰è®¿é—®
- **å½±å“**: æ— æ³•ç›´æ¥æµ‹è¯•ç½‘ç«™åŠŸèƒ½

### åç«¯APIçŠ¶æ€
**APIç«¯ç‚¹é…ç½®**:
- **åŸºç¡€URL**: https://nunotqruohnfoozorqiz.supabase.co
- **Edge Functionsè·¯å¾„**: /functions/v1/
- **å¯ç”¨API**:
  - `/functions/v1/timeline` - æ—¶é—´è½´æ•°æ®
  - `/functions/v1/calculate` - é»„å†è®¡ç®—
  - `/functions/v1/sky` - å¤©ç©ºæ˜Ÿå›¾
  - `/functions/v1/history` - å†å²è®°å½•

**APIè®¤è¯**:
- **Token**: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (å·²é…ç½®)
- **è®¤è¯æ–¹å¼**: Bearer Token

### å‰ç«¯é…ç½®çŠ¶æ€
**ç¯å¢ƒå˜é‡**:
```javascript
VITE_SUPABASE_URL: https://nunotqruohnfoozorqiz.supabase.co
VITE_SUPABASE_ANON_KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_BACKEND_URL: https://nunotqruohnfoozorqiz.supabase.co
```

## ğŸ“Š ä¿®å¤æ•ˆæœè¯„ä¼°

### å·²è§£å†³çš„é—®é¢˜ âœ…
1. **APIè·¯å¾„é”™è¯¯** - æ‰€æœ‰å‰ç«¯ç»„ä»¶ç°åœ¨ä½¿ç”¨æ­£ç¡®çš„ `/functions/v1/` è·¯å¾„
2. **è®¤è¯é…ç½®** - Bearer tokenæ­£ç¡®é…ç½®
3. **ç¯å¢ƒå˜é‡** - Supabaseé…ç½®æ­£ç¡®
4. **ä»£ç éƒ¨ç½²** - ä¿®å¤å·²æ¨é€åˆ°GitHub

### å¯èƒ½çš„é—®é¢˜ âš ï¸
1. **è®¿é—®æƒé™** - Vercelé¡¹ç›®éœ€è¦èº«ä»½éªŒè¯
2. **éƒ¨ç½²å»¶è¿Ÿ** - Vercelé‡æ–°éƒ¨ç½²å¯èƒ½éœ€è¦æ—¶é—´
3. **APIå“åº”** - éœ€è¦å®é™…æµ‹è¯•APIæ˜¯å¦è¿”å›æ­£ç¡®æ•°æ®

## ğŸš€ è§£å†³å»ºè®®

### ç«‹å³å¯è¡Œçš„æ“ä½œ
1. **ç­‰å¾…éƒ¨ç½²**: ç­‰å¾…Vercelå®Œæˆé‡æ–°éƒ¨ç½²ï¼ˆ3-5åˆ†é’Ÿï¼‰
2. **æµ‹è¯•API**: ç›´æ¥æµ‹è¯•Supabase Edge Functions
3. **æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹Verceléƒ¨ç½²æ—¥å¿—ç¡®è®¤éƒ¨ç½²æˆåŠŸ

### è®¿é—®æ–¹æ¡ˆ
1. **æ³¨å†ŒVercelè´¦æˆ·** - è·å¾—è®¿é—®æƒé™
2. **ç”³è¯·è®¿é—®æƒé™** - è”ç³»é¡¹ç›®æ‰€æœ‰è€…
3. **è®¾ç½®å…¬å¼€è®¿é—®** - ä¿®æ”¹Vercelé¡¹ç›®è®¾ç½®

### éªŒè¯æ­¥éª¤
1. ç¡®è®¤Verceléƒ¨ç½²æˆåŠŸ
2. è·å¾—ç½‘ç«™è®¿é—®æƒé™  
3. æµ‹è¯•é»„å†åŠŸèƒ½ï¼ˆæ—¥æœŸé€‰æ‹©ã€APIè°ƒç”¨ã€æ•°æ®å±•ç¤ºï¼‰
4. éªŒè¯æ‰€æœ‰ç»„ä»¶æ­£å¸¸å·¥ä½œ

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### APIè°ƒç”¨æ ¼å¼
```javascript
const response = await fetch(`${API_BASE}/functions/v1/timeline?datetime=1990-01-01T12:00:00Z`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
    'Content-Type': 'application/json'
  }
});
```

### ä¿®å¤å‰åå¯¹æ¯”
**ä¿®å¤å‰**: `/timeline` â†’ 404é”™è¯¯
**ä¿®å¤å**: `/functions/v1/timeline` â†’ æ­£ç¡®APIè°ƒç”¨

## ğŸ¯ ç»“è®º

**ä¸»è¦é—®é¢˜**: APIç«¯ç‚¹è·¯å¾„é”™è¯¯ âœ… å·²ä¿®å¤
**éƒ¨ç½²çŠ¶æ€**: ä»£ç å·²æ¨é€ï¼Œç­‰å¾…Vercelé‡æ–°éƒ¨ç½²
**è®¿é—®æƒé™**: éœ€è¦Vercelèº«ä»½éªŒè¯æ‰èƒ½æµ‹è¯•å®Œæ•´åŠŸèƒ½
**ä¿®å¤è´¨é‡**: é«˜è´¨é‡ä¿®å¤ï¼Œè§£å†³äº†æ ¹æœ¬é—®é¢˜

**å»ºè®®**: ç­‰å¾…Vercelé‡æ–°éƒ¨ç½²å®Œæˆï¼Œç„¶åè§£å†³è®¿é—®æƒé™é—®é¢˜è¿›è¡Œæœ€ç»ˆæµ‹è¯•ã€‚