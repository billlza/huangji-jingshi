# ğŸš€ å¿«é€Ÿå¼€å§‹ - 3 æ­¥å®Œæˆéƒ¨ç½²

## âœ… å‡†å¤‡å·¥ä½œå·²å®Œæˆ

- âœ… ä»£ç å·²ä¿®å¤å¹¶æ¨é€åˆ° GitHub
- âœ… æœ¬åœ°æµ‹è¯•é€šè¿‡
- âœ… éƒ¨ç½²è„šæœ¬å·²å°±ç»ª

---

## ğŸ“‹ 3 æ­¥éƒ¨ç½²æµç¨‹

### æ­¥éª¤ 1ï¸âƒ£: åœ¨ Render éƒ¨ç½²åç«¯ï¼ˆ5 åˆ†é’Ÿï¼‰

1. **æ‰“å¼€ Render**
   - è®¿é—®: https://dashboard.render.com/create?type=web
   - æˆ–ç‚¹å‡»å³ä¾§é“¾æ¥è‡ªåŠ¨æ‰“å¼€ â†’ [ç‚¹å‡»è¿™é‡Œéƒ¨ç½²](https://dashboard.render.com/create?type=web)

2. **ç™»å½•å¹¶è¿æ¥ GitHub ä»“åº“**
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•
   - æˆæƒè®¿é—®ä»“åº“

3. **å¡«å†™é…ç½®**ï¼ˆå¤åˆ¶ç²˜è´´å³å¯ï¼‰
   
   | é…ç½®é¡¹ | å€¼ |
   |--------|-----|
   | **Name** | `hjjs-backend` |
   | **Environment** | `Rust` |
   | **Region** | `Singapore` æˆ– `Oregon` |
   | **Branch** | `main` |
   | **Root Directory** | `huangji-jingshi-web` |
   | **Build Command** | `cd backend && cargo build --release --bin backend` |
   | **Start Command** | `cd backend && ../target/release/backend` |

4. **é«˜çº§è®¾ç½®**
   - Instance Type: `Free`
   - Health Check Path: `/health`
   - Auto-Deploy: `Yes`

5. **ç¯å¢ƒå˜é‡**
   - æ·»åŠ : `RUST_LOG` = `info`

6. **ç‚¹å‡» "Create Web Service"**
   - ç­‰å¾…æ„å»ºï¼ˆ10-15 åˆ†é’Ÿï¼Œå–æ¯å’–å•¡ â˜•ï¼‰

7. **è·å–åç«¯ URL**
   - æ„å»ºæˆåŠŸåï¼Œåœ¨é¡µé¢é¡¶éƒ¨ä¼šæ˜¾ç¤º URL
   - æ ¼å¼ï¼š`https://hjjs-backend.onrender.com`
   - ğŸ“ **å¤åˆ¶è¿™ä¸ª URLï¼Œä¸‹ä¸€æ­¥éœ€è¦ç”¨åˆ°**

---

### æ­¥éª¤ 2ï¸âƒ£: é…ç½® Vercel å‰ç«¯ï¼ˆ2 åˆ†é’Ÿï¼‰

1. **æ‰“å¼€ Vercel**
   - è®¿é—®: https://vercel.com/dashboard
   - æˆ–ç‚¹å‡»å³ä¾§é“¾æ¥ â†’ [ç‚¹å‡»è¿™é‡Œé…ç½®](https://vercel.com/dashboard)

2. **é€‰æ‹©é¡¹ç›®**
   - æ‰¾åˆ°å¹¶ç‚¹å‡» `huangji-jingshi` é¡¹ç›®

3. **æ·»åŠ ç¯å¢ƒå˜é‡**
   - ç‚¹å‡» **Settings** â†’ **Environment Variables**
   - ç‚¹å‡» "Add New"
   - å¡«å†™ï¼š
     ```
     Key: VITE_BACKEND_URL
     Value: [ç²˜è´´æ­¥éª¤1ä¸­çš„åç«¯URL]
     Environments: âœ… Production âœ… Preview âœ… Development
     ```
   - ç‚¹å‡» **Save**

4. **é‡æ–°éƒ¨ç½²**
   - ç‚¹å‡»é¡¶éƒ¨çš„ **Deployments**
   - æ‰¾åˆ°æœ€æ–°çš„éƒ¨ç½²
   - ç‚¹å‡»å³ä¾§ "..." â†’ "Redeploy"
   - ç¡®è®¤é‡æ–°éƒ¨ç½²

---

### æ­¥éª¤ 3ï¸âƒ£: éªŒè¯éƒ¨ç½²ï¼ˆ2 åˆ†é’Ÿï¼‰

1. **æµ‹è¯•åç«¯**
   ```bash
   # åœ¨æµè§ˆå™¨åœ°å€æ è®¿é—®ï¼ˆæ›¿æ¢æˆä½ çš„ URLï¼‰
   https://your-backend.onrender.com/health
   ```
   
   **é¢„æœŸå“åº”ï¼š**
   ```json
   {
     "status": "ok",
     "message": "çš‡æç»ä¸–åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ",
     "version": "1.0.0-fixed"
   }
   ```

2. **æµ‹è¯•å‰ç«¯**
   - è®¿é—®: https://huangji-jingshi.vercel.app/tools
   - æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
   - åˆ·æ–°é¡µé¢
   - æ£€æŸ¥ï¼š
     - âœ… API è¯·æ±‚è¿”å› `200` çŠ¶æ€ç 
     - âœ… æ²¡æœ‰ `CORS` é”™è¯¯
     - âœ… æ•°æ®æ­£å¸¸æ˜¾ç¤º

---

## ğŸ‰ å®Œæˆï¼

å¦‚æœä¸Šè¿°æµ‹è¯•éƒ½é€šè¿‡ï¼Œæ­å–œä½ éƒ¨ç½²æˆåŠŸï¼ğŸŠ

**ä½ çš„åº”ç”¨ï¼š**
- ğŸŒ å‰ç«¯ï¼šhttps://huangji-jingshi.vercel.app
- âš™ï¸ åç«¯ï¼šhttps://your-backend.onrender.com

---

## âš ï¸ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜ 1: Render æ„å»ºå¤±è´¥
- **æŸ¥çœ‹æ„å»ºæ—¥å¿—**ï¼šRender Dashboard â†’ ä½ çš„æœåŠ¡ â†’ Logs
- **å¸¸è§åŸå› **ï¼š
  - Build Command è·¯å¾„é”™è¯¯
  - GitHub ä»£ç æœªæ›´æ–° â†’ ç¡®è®¤å·² push æœ€æ–°ä»£ç 

### é—®é¢˜ 2: å¥åº·æ£€æŸ¥å¤±è´¥ (503/502)
- **åŸå› **ï¼šæœåŠ¡è¿˜åœ¨å¯åŠ¨ä¸­
- **è§£å†³**ï¼šç­‰å¾… 1-2 åˆ†é’Ÿåé‡è¯•

### é—®é¢˜ 3: å‰ç«¯æ— æ³•è¿æ¥åç«¯
- **æ£€æŸ¥æ¸…å•**ï¼š
  1. âœ… åç«¯æœåŠ¡çŠ¶æ€æ˜¯ "Live"ï¼ˆç»¿è‰²ï¼‰
  2. âœ… Vercel ç¯å¢ƒå˜é‡å·²è®¾ç½®
  3. âœ… å‰ç«¯å·²é‡æ–°éƒ¨ç½²
  4. âœ… åç«¯ URL æ­£ç¡®ï¼ˆåŒ…å« https://ï¼‰

### é—®é¢˜ 4: CORS é”™è¯¯
- **è§£å†³**ï¼šåç«¯ä»£ç å·²é…ç½® `CorsLayer::permissive()`ï¼Œåº”è¯¥æ²¡æœ‰ CORS é—®é¢˜
- **å¦‚æœä»æœ‰é—®é¢˜**ï¼š
  1. æ£€æŸ¥åç«¯æ—¥å¿—
  2. ç¡®è®¤ä½¿ç”¨çš„æ˜¯æœ€æ–°ä»£ç 
  3. åœ¨ Render é‡æ–°éƒ¨ç½²

---

## ğŸ’¡ æç¤º

### é¿å…å†·å¯åŠ¨
Render å…è´¹ç‰ˆ 15 åˆ†é’Ÿæ— è¯·æ±‚ä¼šä¼‘çœ ã€‚è§£å†³æ–¹æ¡ˆï¼š
1. **å‡çº§æ–¹æ¡ˆ**ï¼šRender ä»˜è´¹ç‰ˆ $7/æœˆ
2. **ä½¿ç”¨ç›‘æ§**ï¼šUptimeRobot å…è´¹æ¯ 5 åˆ†é’Ÿ ping ä¸€æ¬¡

### æŸ¥çœ‹æ—¥å¿—
- **åç«¯æ—¥å¿—**ï¼šRender Dashboard â†’ æœåŠ¡ â†’ Logs
- **å‰ç«¯æ—¥å¿—**ï¼šVercel Dashboard â†’ é¡¹ç›® â†’ Deployments â†’ æŸ¥çœ‹æ—¥å¿—

### æ‰‹åŠ¨é‡æ–°éƒ¨ç½²
- **Render**ï¼šDashboard â†’ æœåŠ¡ â†’ Manual Deploy â†’ Deploy latest commit
- **Vercel**ï¼šDashboard â†’ Deployments â†’ ... â†’ Redeploy

---

## ğŸ› ï¸ è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ç”¨å‘½ä»¤è¡Œéƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä»¬æä¾›çš„è„šæœ¬ï¼š

```bash
# ä¸€é”®éƒ¨ç½²ï¼ˆäº¤äº’å¼ï¼‰
./auto-deploy-all.sh

# ä»…éƒ¨ç½²åç«¯
./deploy-to-render.sh

# ä»…é…ç½®å‰ç«¯
./configure-frontend.sh https://your-backend.onrender.com
```

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

æœ‰é—®é¢˜éšæ—¶é—®æˆ‘ï¼

